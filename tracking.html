<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shipment Tracking | Sayona Shipping</title>

    <style>
        body {
            margin: 0;
            font-family: Arial, Helvetica, sans-serif;
            background: #f4f7fb;
            color: #1a1a1a;
        }

        /* NAVBAR */
        .navbar {
            background: #ffffff;
            padding: 15px 40px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .navbar a {
            text-decoration: none;
            color: #1a1a1a;
            font-weight: 600;
            margin-right: 20px;
        }

        /* MAIN CONTAINER */
        .container {
            max-width: 1000px;
            margin: 40px auto;
            padding: 0 20px;
        }

        /* HEADER CARD */
        .tracking-header {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            margin-bottom: 25px;
        }

        .tracking-header h2 {
            margin: 0;
            font-size: 24px;
        }

        .status {
            margin-top: 10px;
            font-weight: bold;
            color: #16a34a;
        }

        /* INFO GRID */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .info-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .info-card label {
            font-size: 13px;
            color: #666;
        }

        .info-card p {
            margin: 5px 0 0;
            font-weight: bold;
        }

        /* TIMELINE */
        .timeline {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .timeline h3 {
            margin-top: 0;
        }

        .timeline-item {
            display: flex;
            margin-bottom: 20px;
        }

        .timeline-dot {
            width: 14px;
            height: 14px;
            background: #dc2626;
            border-radius: 50%;
            margin-right: 15px;
            margin-top: 5px;
        }

        .timeline-content {
            flex: 1;
        }

        .timeline-content strong {
            display: block;
        }

        .timeline-content span {
            font-size: 13px;
            color: #666;
        }

        .completed .timeline-dot {
            background: #16a34a;
        }

        /* RESPONSIVE */
        @media(max-width:768px) {
            .info-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>

    <!-- NAVBAR -->
    <div class="navbar">
        <a href="index.html">Home</a>
        <a href="tracking.html">Tracking</a>
    </div>

    <div class="container">

        <!-- HEADER -->
        <div class="tracking-header">
            <h2>Tracking ID: SY123456789</h2>
            <div class="status">Status: In Transit</div>
        </div>

        <!-- INFO GRID -->
        <div class="info-grid">

            <div class="info-card">
                <label>Current Location</label>
                <p>Mumbai, India</p>
            </div>

            <div class="info-card">
                <label>Destination</label>
                <p>Chennai, India</p>
            </div>

            <div class="info-card">
                <label>Estimated Delivery</label>
                <p>20 Feb 2026</p>
            </div>

        </div>

        <!-- TIMELINE -->
        <div class="timeline">

            <h3>Shipment Timeline</h3>

            <div class="timeline-item completed">
                <div class="timeline-dot"></div>
                <div class="timeline-content">
                    <strong>Shipment Picked Up</strong>
                    <span>15 Feb 2026 — Bangalore, India</span>
                </div>
            </div>

            <div class="timeline-item completed">
                <div class="timeline-dot"></div>
                <div class="timeline-content">
                    <strong>Arrived at Sorting Facility</strong>
                    <span>16 Feb 2026 — Mumbai, India</span>
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-dot"></div>
                <div class="timeline-content">
                    <strong>Out for Delivery</strong>
                    <span>Expected: 20 Feb 2026 — Chennai, India</span>
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-dot"></div>
                <div class="timeline-content">
                    <strong>Delivered</strong>
                    <span>Pending</span>
                </div>
            </div>

        </div>

    </div>

    <!-- Result Container -->
    <div id="trackingResult" class="container" style="display: none; padding-bottom: 4rem;">
        <div class="tracking-box"
            style="width: 100%; max-width: 800px; margin: 0 auto; flex-direction: column; align-items: flex-start;">
            <form onsubmit="trackShipment(event)" style="display: flex; gap: 10px; width: 100%; margin-bottom: 1rem;">
                <input type="text" id="trackingInput" placeholder="Enter Shipment ID / Bill of Lading Number"
                    value="SY123456789"
                    style="flex-grow: 1; padding: 10px; border: 1px solid #ccc; border-radius: 5px;">
                <button type="submit" class="btn btn-primary"
                    style="padding: 10px 20px; background-color: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;">Track</button>
            </form>
            <h3 style="margin-bottom: 1rem;">Shipment Status</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; width: 100%;">
                <div>
                    <p style="color: var(--text-secondary);">Tracking ID</p>
                    <p style="font-weight: bold; font-size: 1.1rem;" id="resTrackingId">Loading...</p>
                </div>
                <div>
                    <p style="color: var(--text-secondary);">Current Status</p>
                    <p style="color: var(--primary); font-weight: bold; font-size: 1.1rem;" id="resStatus">Loading...
                    </p>
                </div>
                <div>
                    <p style="color: var(--text-secondary);">Location</p>
                    <p style="font-weight: bold;" id="resLocation">Loading...</p>
                </div>
                <div>
                    <p style="color: var(--text-secondary);">Estimated Delivery</p>
                    <p style="font-weight: bold;" id="resDelivery">Loading...</p>
                </div>
            </div>
            <div style="margin-top: 2rem; width: 100%; padding-top: 2rem; border-top: 1px solid var(--border);">
                <p style="color: var(--text-secondary);">Destination: <span id="resDestination"
                        style="color: var(--text-main); font-weight: 600;">Loading...</span></p>
            </div>
        </div>
    </div>

    <script>
        async function trackShipment(event) {
            event.preventDefault();
            const trackingInput = document.getElementById('trackingInput');
            const trackingId = trackingInput.value.trim();

            if (!trackingId) {
                alert("Please enter a tracking ID");
                return;
            }

            const resultContainer = document.getElementById('trackingResult');

            try {
                const response = await fetch(`http://localhost:3000/track/${trackingId}`);
                const data = await response.json();

                if (data.error) {
                    alert(data.error);
                    resultContainer.style.display = 'none';
                } else {
                    document.getElementById('resTrackingId').textContent = data.tracking_id;
                    document.getElementById('resStatus').textContent = data.status;
                    document.getElementById('resLocation').textContent = data.current_location;
                    document.getElementById('resDelivery').textContent = data.estimated_delivery;
                    document.getElementById('resDestination').textContent = data.destination;

                    resultContainer.style.display = 'block';
                    // scroll to result
                    resultContainer.scrollIntoView({ behavior: 'smooth' });
                }
            } catch (error) {
                console.error('Error:', error);
                alert("Failed to fetch tracking details. Ensure the backend server is running.");
            }
        }
    </script>

</body>

</html>